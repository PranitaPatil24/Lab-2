<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Admin Dashboard | Coffee Corner Events</title>

  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #fff8f2;
      margin: 0;
    }

    header {
      background: #6f4e37;
      color: white;
      padding: 15px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 22px;
      letter-spacing: 1px;
    }

    header button {
      background: white;
      color: #6f4e37;
      border: none;
      padding: 8px 14px;
      border-radius: 5px;
      cursor: pointer;
      font-size: 15px;
      font-weight: 600;
    }

    header button:hover {
      background: #e6e6e6;
    }

    .top-bar {
      text-align: right;
      margin: 20px 5% 0 0;
    }

    .top-bar button {
      background: #6f4e37;
      color: white;
      border: none;
      padding: 8px 14px;
      border-radius: 5px;
      cursor: pointer;
      font-size: 15px;
    }

    .top-bar button:hover {
      background: #8b5f43;
    }

    table {
      width: 90%;
      margin: 20px auto;
      border-collapse: collapse;
      background: white;
      border-radius: 12px;
      overflow: hidden;
    }

    th, td {
      border: 1px solid #ddd;
      padding: 12px;
      text-align: center;
      font-size: 15px;
    }

    th {
      background: #d7ccc8;
      color: #4b3832;
    }

    button.action {
      background: #6f4e37;
      color: white;
      border: none;
      padding: 6px 12px;
      border-radius: 5px;
      cursor: pointer;
      font-weight: 500;
    }

    button.action:hover {
      background: #8b5f43;
    }

    /* Popup */
    .popup {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      justify-content: center;
      align-items: center;
    }

    .popup-content {
      background: white;
      padding: 20px;
      border-radius: 12px;
      width: 350px;
      text-align: center;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
      animation: fadeIn 0.3s ease-in-out;
    }

    .popup-content input {
      width: 90%;
      padding: 10px;
      margin: 10px 0;
      border: 1px solid #ccc;
      border-radius: 6px;
    }

    @keyframes fadeIn {
      from { transform: scale(0.8); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }

  </style>
</head>

<body>

  <header>
    <div>Coffee Corner — Admin Dashboard</div>
    <button onclick="logout()">Logout</button>
  </header>

  <div class="top-bar">
    <button onclick="openAddPopup()">+ Add New Event</button>
  </div>

  <table id="eventTable">
    <tr>
      <th>Event Name</th>
      <th>Date</th>
      <th>Actions</th>
    </tr>
  </table>

  <!-- Popup Form -->
  <div class="popup" id="popupForm">
    <div class="popup-content">
      <h3 id="popupTitle">Add Event</h3>
      <input type="text" id="eventName" placeholder="Event Name">
      <input type="text" id="eventDate" placeholder="Event Date">
      <button onclick="saveEvent()">Save</button>
      <button onclick="closePopup()">Cancel</button>
    </div>
  </div>

  <script>
    const events = [
      "Live Jazz Night — 12 Feb 2025",
      "Coffee Brewing Workshop — 18 Feb 2025",
      "Cake Tasting Event — 20 Feb 2025",
      "Art & Coffee Evening — 25 Feb 2025",
      "Seasonal Special Launch — 1 Mar 2025",
      "Latte Art Competition — 5 Mar 2025",
      "Open Mic Poetry — 10 Mar 2025",
      "Coffee Lovers Meetup — 15 Mar 2025",
      "Cupcake Decoration Workshop — 20 Mar 2025",
      "Spring Coffee Festival — 25 Mar 2025",
      "Chef Meet & Greet — 30 Mar 2025",
      "Coffee & Books Meetup — 5 Apr 2025"
    ];

    const table = document.getElementById("eventTable");
    let currentRow = null;
    let isEditMode = false;

    // Load events
    events.forEach(str => {
      const [name, date] = str.split(" — ");
      addRow(name, date);
    });

    function addRow(name, date) {
      const row = table.insertRow(-1);
      row.innerHTML = `
        <td>${name}</td>
        <td>${date}</td>
        <td>
          <button class="action" onclick="openUpdate(this)">Update</button>
          <button class="action" onclick="deleteRow(this)">Delete</button>
        </td>`;
    }

    // Add event popup
    function openAddPopup() {
      isEditMode = false;
      currentRow = null;
      document.getElementById("popupTitle").innerText = "Add New Event";
      document.getElementById("eventName").value = "";
      document.getElementById("eventDate").value = "";
      document.getElementById("popupForm").style.display = "flex";
    }

    // Update popup
    function openUpdate(btn) {
      isEditMode = true;
      currentRow = btn.parentNode.parentNode;
      document.getElementById("popupTitle").innerText = "Update Event";
      document.getElementById("eventName").value = currentRow.cells[0].innerText;
      document.getElementById("eventDate").value = currentRow.cells[1].innerText;
      document.getElementById("popupForm").style.display = "flex";
    }

    // Save event
    function saveEvent() {
      const name = eventName.value.trim();
      const date = eventDate.value.trim();

      if (!name || !date) return alert("Please fill all fields!");

      if (isEditMode) {
        currentRow.cells[0].innerText = name;
        currentRow.cells[1].innerText = date;
      } else {
        addRow(name, date);
      }

      closePopup();
    }

    function closePopup() {
      document.getElementById("popupForm").style.display = "none";
    }

    function deleteRow(btn) {
      if (confirm("Delete this event?")) {
        btn.parentNode.parentNode.remove();
      }
    }

    function logout() {
      alert("Logged out successfully!");
      window.location.href = "admin.html";
    }
  </script>

</body>
</html>
